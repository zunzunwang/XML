package org.zunzunwang.rest;

import org.json.simple.JSONArray;
import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;
import org.json.simple.parser.ParseException;
import org.scribe.builder.ServiceBuilder;
import org.scribe.builder.api.TwitterApi;
import org.scribe.model.OAuthRequest;
import org.scribe.model.Response;
import org.scribe.model.Token;
import org.scribe.model.Verb;
import org.scribe.oauth.OAuthService;

public class Main {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		System.out.println("hello twitter");
		OAuthService service = new ServiceBuilder().provider(TwitterApi.SSL.class)
                .apiKey("t7O0kKPpvQTZZFZ4uzXX8b2bl")
                .apiSecret("JSQQq3f7W4aIbJ9MFFFKqdE7Oxb5g4EAR3fiXN53x2DYdYa98F").build();
		Token requestToken = service.getRequestToken();
		Token accessToken= new Token("1917663240-pKhAyGEHswhxXDI557I42jw2xFCQWHyovxUCrii", "7pQ0rgnZWgmu2qjPNhXlaQHboHqCeq7oDqjOnwKYvlfWR");
		
		OAuthRequest request =
				new OAuthRequest(Verb.GET, "https://api.twitter.com/1.1/account/verify_credentials.json");
		service.signRequest(accessToken, request);
		Response response = request.send();
//		System.out.println(response.getBody());
		
		JSONParser parser = new JSONParser();
		try {
			Object objetNormal = parser.parse(response.getBody());
			System.out.println(objetNormal);
			
//			JSONObject jsonObject = (JSONObject)objetNormal;
//			JSONArray array = (JSONArray) jsonObject.get("entities");
			
//			for (int i = 0; i < array.size(); i++) {
//			JSONObject arrayObject = (JSONObject)array.get(i);
//			System.out.println(arrayObject.get("followers_count"));
//			}
			
		} catch (ParseException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

	}

}
